<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ਤਾਜ਼ਾ ਖ਼ਬਰਾਂ - PattiBytes News</title>
    <meta name="description" content="Stay updated with latest news from Patti, Punjab and surrounding areas">
    
    <!-- PWA -->
    <link rel="manifest" href="/app/manifest.webmanifest">
    <meta name="theme-color" content="#667eea">
    <link rel="icon" href="https://i.ibb.co/q3pGgxrZ/Whats-App-Image-2025-05-20-at-18-42-18-c8959cfa.jpg">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/app/assets/css/common.css">
    <link rel="stylesheet" href="/app/assets/css/news.css">
</head>
<body class="app-body">
   
    
    <!-- Header -->
    <div id="headerContainer"></div>
    
    <!-- Main Content -->
    <main class="main-content" id="main-content">
        <!-- Search Bar -->
        <section class="search-section">
            <div class="search-container">
                <div class="search-wrapper">
                    <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="11" cy="11" r="8"></circle>
                        <path d="m21 21-4.35-4.35"></path>
                    </svg>
                    <input type="search" 
                           class="search-input" 
                           id="newsSearch" 
                           placeholder="Search news... / ਖ਼ਬਰਾਂ ਖੋਜੋ..."
                           autocomplete="off">
                    <button class="clear-btn" id="clearSearch" aria-label="Clear search">×</button>
                </div>
            </div>
        </section>
        
        <!-- Filter Tabs -->
        <section class="filter-section">
            <div class="filter-tabs" role="tablist" aria-label="News categories">
                <button class="filter-tab active" role="tab" data-filter="all" aria-selected="true">
                    All News
                </button>
                <button class="filter-tab" role="tab" data-filter="breaking" aria-selected="false">
                    Breaking
                </button>
                <button class="filter-tab" role="tab" data-filter="local" aria-selected="false">
                    Local
                </button>
                <button class="filter-tab" role="tab" data-filter="politics" aria-selected="false">
                    Politics
                </button>
                <button class="filter-tab" role="tab" data-filter="sports" aria-selected="false">
                    Sports
                </button>
                <button class="filter-tab" role="tab" data-filter="culture" aria-selected="false">
                    Culture
                </button>
            </div>
        </section>
        
        <!-- News Grid -->
        <section class="news-section">
            <div class="news-header">
                <h1 class="section-title">
                    <span class="title-punjabi">ਤਾਜ਼ਾ ਖ਼ਬਰਾਂ</span>
                    <span class="title-english">Latest News</span>
                </h1>
                <div class="news-actions">
                    <button class="refresh-btn" id="refreshNews" aria-label="Refresh news">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23,4 23,10 17,10"></polyline>
                            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L7.64 7.64"></path>
                        </svg>
                    </button>
                </div>
            </div>
            
            <div class="news-grid" id="newsGrid">
                <!-- News cards will be dynamically loaded -->
                <div class="news-loading">
                    <div class="loading-skeleton">
                        <div class="skeleton-card"></div>
                        <div class="skeleton-card"></div>
                        <div class="skeleton-card"></div>
                    </div>
                </div>
            </div>
            
            <div class="no-match-message" id="noMatchMessage">
                <h3>No news articles found</h3>
                <p>Try adjusting your search or filter criteria</p>
            </div>
            
            <!-- Load More Button -->
            <div class="load-more-section">
                <button class="load-more-btn" id="loadMoreNews">
                    Load More News
                </button>
            </div>
        </section>
    </main>
    
    <!-- Bottom Navigation -->
    <div id="bottomNavContainer"></div>
    
    <!-- News Detail Modal -->
    <div class="modal-overlay" id="newsModal" aria-hidden="true" role="dialog" aria-modal="true">
        <div class="modal-content news-modal">
            <button class="modal-close" id="newsModalClose" aria-label="Close modal">&times;</button>
            
            <div class="modal-body">
                <div class="modal-media" id="newsModalMedia"></div>
                <div class="modal-header">
                    <h1 class="modal-title" id="newsModalTitle"></h1>
                    <div class="modal-meta" id="newsModalMeta"></div>
                </div>
                <div class="modal-content-text" id="newsModalContent"></div>
                
                <!-- Article Actions -->
                <div class="article-actions">
                    <button class="action-btn like-btn" id="newsLikeBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path>
                        </svg>
                        <span class="like-count">0</span>
                    </button>
                    
                    <button class="action-btn share-btn" id="newsShareBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="18" cy="5" r="3"></circle>
                            <circle cx="6" cy="12" r="3"></circle>
                            <circle cx="18" cy="19" r="3"></circle>
                            <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                            <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                        </svg>
                        Share
                    </button>
                    
                    <button class="action-btn comment-btn" id="newsCommentBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                        </svg>
                        <span class="comment-count">0</span>
                    </button>
                </div>
                
                <!-- Comments Section -->
                <div class="comments-section" id="commentsSection">
                    <h3 class="comments-title">
                        Comments (<span id="commentsCount">0</span>)
                    </h3>
                    
                    <!-- Add Comment Form -->
                    <div class="add-comment-form" id="addCommentForm">
                        <div class="comment-input-wrapper">
                            <textarea id="commentInput" 
                                      placeholder="Add a comment..." 
                                      rows="3"></textarea>
                            <div class="comment-actions">
                                <button class="btn btn-secondary" id="cancelComment">Cancel</button>
                                <button class="btn btn-primary" id="submitComment" disabled>Post Comment</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Comments List -->
                    <div class="comments-list" id="commentsList">
                        <!-- Comments will be loaded dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Floating Create Button -->
    <button class="fab create-news-fab" id="createNewsFab" aria-label="Create news post">
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
            <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
        </svg>
    </button>
    
    <!-- Scripts -->
    <script type="module" src="/app/assets/js/firebase-config.js"></script>
    <script src="/app/assets/js/common.js"></script>
    <script src="/app/assets/js/news.js"></script>
</body>
</html>
